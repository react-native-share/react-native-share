<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.64">
<link rel="stylesheet" href="/css/code-block-buttons.css">
<script src="https://buttons.github.io/buttons.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
<script src="/js/code-block-buttons.js"></script><title data-react-helmet="true">Migrating to v5 | React Native Share</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Migrating to v5 | React Native Share"><meta data-react-helmet="true" name="description" content="iOS"><meta data-react-helmet="true" property="og:description" content="iOS"><meta data-react-helmet="true" property="og:url" content="https://react-native-community.github.io/react-native-share//react-native-share/docs/migrate-v4-to-v5"><link data-react-helmet="true" rel="shortcut icon" href="/react-native-share/img/community.png"><link data-react-helmet="true" rel="canonical" href="https://react-native-community.github.io/react-native-share//react-native-share/docs/migrate-v4-to-v5"><link rel="stylesheet" href="/react-native-share/styles.7a55ac87.css">
<link rel="preload" href="/react-native-share/styles.b70a350d.js" as="script">
<link rel="preload" href="/react-native-share/runtime~main.489ade26.js" as="script">
<link rel="preload" href="/react-native-share/main.ecdcadf0.js" as="script">
<link rel="preload" href="/react-native-share/1.d4d4cbac.js" as="script">
<link rel="preload" href="/react-native-share/2.e8bccf71.js" as="script">
<link rel="preload" href="/react-native-share/20.f78978a2.js" as="script">
<link rel="preload" href="/react-native-share/21.9abf84e2.js" as="script">
<link rel="preload" href="/react-native-share/935f2afb.7207cdf7.js" as="script">
<link rel="preload" href="/react-native-share/17896441.377707c4.js" as="script">
<link rel="preload" href="/react-native-share/1fc0e362.70036467.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/react-native-share/"><img class="navbar__logo" src="/react-native-share/img/community.png" alt="react-native-community logo"><strong class="navbar__title">React Native Share</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/react-native-share/docs/install">Docs</a><a class="navbar__item navbar__link" href="/react-native-share/docs/contributing">Contributing</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/react-native-community/react-native-share" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">üåû</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/react-native-share/"><img class="navbar__logo" src="/react-native-share/img/community.png" alt="react-native-community logo"><strong class="navbar__title">React Native Share</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/react-native-share/docs/install">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/react-native-share/docs/contributing">Contributing</a></li><li class="menu__list-item"><a href="https://github.com/react-native-community/react-native-share" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-share/docs/install">Installing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-share/docs/share-open">Share.open</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-share/docs/share-single">Share.shareSingle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-share/docs/share-is-package-installed">Share.isPackageInstalled (Android only)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-share/docs/ui-components">UI Components</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-share/docs/language-support">Language Support (iOS only)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-share/docs/testing">Testing</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Recipes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-share/docs/share-remote-file">Share Remote PDF file</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Migrating</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-share/docs/migrate-v3-to-v4">Migrating to v4</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/react-native-share/docs/migrate-v4-to-v5">Migrating to v5</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Troubleshooting</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-share/docs/troubleshooting-ios">Troubleshooting iOS</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Migrating to v5</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ios"></a>iOS<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ios" title="Direct link to heading">#</a></h2><p>No breaking changes üòå</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="android"></a>Android<a aria-hidden="true" tabindex="-1" class="hash-link" href="#android" title="Direct link to heading">#</a></h2><p><a href="https://github.com/react-native-community/react-native-share/issues/936" target="_blank" rel="noopener noreferrer">v5 introduces a change</a> to remove the <code>WRITE_EXTERNAL_STORAGE</code> permission from being automatically added to implementing apps.</p><p>This is motivated by the Android 11 system enforcing new restrictions on storage, and mandating the use of scoped storage. If this impacts you, you should read more here to make sure your app will still work on Android 11: <a href="https://developer.android.com/about/versions/11/privacy/storage" target="_blank" rel="noopener noreferrer">Scoped Storage restrictions</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="removal-of-write_external_storage-permission-request"></a>Removal of WRITE_EXTERNAL_STORAGE permission request<a aria-hidden="true" tabindex="-1" class="hash-link" href="#removal-of-write_external_storage-permission-request" title="Direct link to heading">#</a></h3><p><code>base64</code> file sharing requires the <code>WRITE_EXTERNAL_STORAGE</code> permission to be included in the AndroidManifest.xml file. As <code>WRITE_EXTERNAL_STORAGE</code> is seen as a <a href="https://developer.android.com/reference/android/Manifest.permission#WRITE_EXTERNAL_STORAGE" target="_blank" rel="noopener noreferrer">dangerous</a> permission, it is now the responsibility of the implementing app to add this permission to their own AndroidManifest.xml file.</p><p>To do this, add:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-xml codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">&lt;!-- required for react-native-share base64 sharing --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">uses-permission</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name namespace" style="color:rgb(178, 204, 214)">android:</span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">android.permission.WRITE_EXTERNAL_STORAGE</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span></div></div></div></div></div><p>to your application&#x27;s <code>AndroidManifest.xml</code> file as per the example project.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/react-native-community/react-native-share/edit/master/website/docs/migrate-v4-to-v5.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/react-native-share/docs/migrate-v3-to-v4"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ Migrating to v4</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/react-native-share/docs/troubleshooting-ios"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Troubleshooting iOS ¬ª</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ios" class="table-of-contents__link">iOS</a></li><li><a href="#android" class="table-of-contents__link">Android</a><ul><li><a href="#removal-of-write_external_storage-permission-request" class="table-of-contents__link">Removal of WRITE_EXTERNAL_STORAGE permission request</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/react-native-share/docs/install/">Installing</a></li><li class="footer__item"><a class="footer__link-item" href="/react-native-share/docs/share-open/">Share.open</a></li><li class="footer__item"><a class="footer__link-item" href="/react-native-share/docs/share-single/">Share.single</a></li><li class="footer__item"><a class="footer__link-item" href="/react-native-share/docs/share-is-package-installed/">Share.isPackageInstalled</a></li><li class="footer__item"><a class="footer__link-item" href="/react-native-share/docs/ui-components/">UI Components</a></li><li class="footer__item"><a class="footer__link-item" href="/react-native-share/docs/testing/">Testing</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/react-native-share/docs/contributing">Contributing Guide</a></li><li class="footer__item"><a href="https://github.com/react-native-community" target="_blank" rel="noopener noreferrer" class="footer__link-item">react-native-community</a></li><li class="footer__item"><a href="https://github.com/react-native-community/react-native-share/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Issues</a></li><li class="footer__item"><a href="https://twitter.com/ReactNativeComm" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div></div><div class="text--center"><div>made with ‚ù§Ô∏è by react-native-community</div></div></div></footer></div>
<script src="/react-native-share/styles.b70a350d.js"></script>
<script src="/react-native-share/runtime~main.489ade26.js"></script>
<script src="/react-native-share/main.ecdcadf0.js"></script>
<script src="/react-native-share/1.d4d4cbac.js"></script>
<script src="/react-native-share/2.e8bccf71.js"></script>
<script src="/react-native-share/20.f78978a2.js"></script>
<script src="/react-native-share/21.9abf84e2.js"></script>
<script src="/react-native-share/935f2afb.7207cdf7.js"></script>
<script src="/react-native-share/17896441.377707c4.js"></script>
<script src="/react-native-share/1fc0e362.70036467.js"></script>
</body>
</html>