"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[425],{6472:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>d,metadata:()=>r,toc:()=>t});const r=JSON.parse('{"id":"install","title":"Installing","description":"Expo Managed Workflow","source":"@site/docs/installing.mdx","sourceDirName":".","slug":"/install","permalink":"/react-native-share/docs/install","draft":false,"unlisted":false,"editUrl":"https://github.com/react-native-community/react-native-share/edit/master/website/docs/installing.mdx","tags":[],"version":"current","frontMatter":{"id":"install","title":"Installing"},"sidebar":"someSidebar","next":{"title":"Share.open","permalink":"/react-native-share/docs/share-open"}}');var s=i(4848),a=i(8453);const d={id:"install",title:"Installing"},l=void 0,o={},t=[{value:"Expo Managed Workflow",id:"expo-managed-workflow",level:2},{value:"Bare React Native",id:"bare-react-native",level:2},{value:"Adding Queries for Android (Necessary for SDK &gt;= 30)",id:"adding-queries-for-android-necessary-for-sdk--30",level:3},{value:"Manual Linking",id:"manual-linking",level:2},{value:"Manual Install",id:"manual-install",level:2},{value:"iOS Install",id:"ios-install",level:3},{value:"Android Install",id:"android-install",level:3},{value:"Windows Install",id:"windows-install",level:3},{value:"Adding your implementation of FileProvider",id:"adding-your-implementation-of-fileprovider",level:3},{value:"Older versions",id:"older-versions",level:2},{value:"react-native 0.59.10",id:"react-native-05910",level:2}];function c(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"expo-managed-workflow",children:"Expo Managed Workflow"}),"\n",(0,s.jsx)(n.p,{children:"For Expo projects, you will need to be on a managed workflow and use the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"npx expo install react-native-share\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Configure you ",(0,s.jsx)(n.code,{children:"app.config.ts"})," or ",(0,s.jsx)(n.code,{children:"app.json"})," to use the permissions needed by the library:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "plugins": [\n    [\n      "react-native-share",\n      {\n        "ios": [\n          "fb",\n          "instagram",\n          "twitter",\n          "tiktoksharesdk",\n        ],\n        "android": [\n          "com.facebook.katana",\n          "com.instagram.android",\n          "com.twitter.android",\n          "com.zhiliaoapp.musically",\n        ]\n      }\n    ]\n  ]\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"ios"})," parameter will take care of adding queries (LSApplicationQueriesSchemes) to the Info.plist."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:"<key>LSApplicationQueriesSchemes</key>\n<array>\n  <string>fb</string>\n  <string>instagram</string>\n  <string>twitter</string>\n  <string>tiktoksharesdk</string>\n</array>\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"android"})," parameter will take care of adding queries to the AndroidManifest.xml."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<queries>\n  <package android:name="com.facebook.katana" />\n  <package android:name="com.instagram.android" />\n  <package android:name="com.twitter.android" />\n  <package android:name="com.zhiliaoapp.musically" />\n</queries>\n'})}),"\n",(0,s.jsxs)(n.p,{children:["And prebuild the project with ",(0,s.jsx)(n.code,{children:"expo prebuild"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"bare-react-native",children:"Bare React Native"}),"\n",(0,s.jsxs)(n.p,{children:["If you are using ",(0,s.jsx)(n.code,{children:"react-native >= 0.60"})," you just need to do a simple:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"yarn add react-native-share\n"})}),"\n",(0,s.jsx)(n.p,{children:"Or if are using npm:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"npm i react-native-share --save\n"})}),"\n",(0,s.jsx)(n.p,{children:"After that, we need to install the dependencies to use the project on iOS(you can skip this part, if you are using this on Android)."}),"\n",(0,s.jsxs)(n.p,{children:["Now run a simple: ",(0,s.jsx)(n.code,{children:"npx pod-install"})," or ",(0,s.jsx)(n.code,{children:"cd ios && pod install"}),". After that, you should be able to use the library on both Platforms, iOS and Android."]}),"\n",(0,s.jsx)(n.p,{children:"Also, to use this library on iOS you will need:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"XCode 11 or higher"}),"\n",(0,s.jsx)(n.li,{children:"iOS 13 SDK or higher"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["After that, you will see that the library is now available at your ",(0,s.jsx)(n.code,{children:"node_modules"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note:"})," If your application requires the ability to share ",(0,s.jsx)(n.code,{children:"base64"})," files on Android, you need to add"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'\x3c!-- required for react-native-share base64 sharing --\x3e\n<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />\n'})}),"\n",(0,s.jsxs)(n.p,{children:["to your application's ",(0,s.jsx)(n.code,{children:"AndroidManifest.xml"})," file as per the example project."]}),"\n",(0,s.jsx)(n.h3,{id:"adding-queries-for-android-necessary-for-sdk--30",children:"Adding Queries for Android (Necessary for SDK >= 30)"}),"\n",(0,s.jsxs)(n.p,{children:["Android 11 introduces changes related to package visibility.\nThese changes affect apps only if they target Android 11.\nFor more information on these changes, view the guides about ",(0,s.jsx)(n.a,{href:"https://developer.android.com/training/package-visibility",children:"package visibility on Android"}),".\nThis change can prevent you to use ",(0,s.jsx)(n.code,{children:"Share.shareSingle()"})," or others!"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["In ",(0,s.jsx)(n.code,{children:"AndroidManifest.xml"})," insert the ",(0,s.jsx)(n.code,{children:"<queries>"})," tag."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'<manifest package="com.example.game">\n    <queries>\n        <package android:name="com.example.store" />\n        <package android:name="com.example.services" />\n\n        \x3c!--for example, to share via instagram --\x3e\n        <package android:name="com.instagram.android" />\n    </queries>\n    ...\n</manifest>\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note:"})," Don't forget to provide the name of the application you will be sharing your content through. See example above."]}),"\n",(0,s.jsx)(n.h2,{id:"manual-linking",children:"Manual Linking"}),"\n",(0,s.jsx)(n.p,{children:"If the auto-linking doesn't work for any reason, you can still run a:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"react-native link react-native-share\n"})}),"\n",(0,s.jsx)(n.h2,{id:"manual-install",children:"Manual Install"}),"\n",(0,s.jsx)(n.h3,{id:"ios-install",children:"iOS Install"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"yarn add react-native-share"})}),"\n",(0,s.jsxs)(n.li,{children:["In XCode, in the project navigator, right click ",(0,s.jsx)(n.code,{children:"Libraries"})," \u279c ",(0,s.jsx)(n.code,{children:"Add Files to [your project's name]"})]}),"\n",(0,s.jsxs)(n.li,{children:["Go to ",(0,s.jsx)(n.code,{children:"node_modules"})," \u279c ",(0,s.jsx)(n.code,{children:"react-native-share"})," \u279c ",(0,s.jsx)(n.code,{children:"ios"})," and add ",(0,s.jsx)(n.code,{children:"RNShare.xcodeproj"})]}),"\n",(0,s.jsxs)(n.li,{children:["In XCode, in the project navigator, select your project. Add ",(0,s.jsx)(n.code,{children:"libRNShare.a"})," to your project's ",(0,s.jsx)(n.code,{children:"Build Phases"})," \u279c ",(0,s.jsx)(n.code,{children:"Link Binary With Libraries"})]}),"\n",(0,s.jsxs)(n.li,{children:["In XCode, in the project navigator, select your project. Add ",(0,s.jsx)(n.code,{children:"Social.framework"})," and ",(0,s.jsx)(n.code,{children:"MessageUI.framework"})," to your project's ",(0,s.jsx)(n.code,{children:"General"})," \u279c ",(0,s.jsx)(n.code,{children:"Linked Frameworks and Libraries"})]}),"\n",(0,s.jsxs)(n.li,{children:["Run your project (",(0,s.jsx)(n.code,{children:"Cmd+R"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"(Optional)"})," LSApplicationQueriesSchemes"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["If you want to share Whatsapp, Mailto or some applications on iOS, you should write ",(0,s.jsx)(n.a,{href:"https://developer.apple.com/library/archive/documentation/General/Reference/InfoPlistKeyReference/Articles/LaunchServicesKeys.html#//apple_ref/doc/plist/info/LSApplicationQueriesSchemes",children:(0,s.jsx)(n.code,{children:"LSApplicationQueriesSchemes"})})," in info.plist:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:"  <key>LSApplicationQueriesSchemes</key>\n  <array>\n    <string>whatsapp</string>\n    <string>mailto</string>\n    <string>instagram</string>\n    <string>instagram-stories</string>\n    <string>fb</string>\n    <string>facebook-stories</string>\n  </array>\n"})}),"\n",(0,s.jsx)(n.h3,{id:"android-install",children:"Android Install"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"yarn add react-native-share"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Open up ",(0,s.jsx)(n.code,{children:"android/app/src/main/java/[...]/MainApplication.java"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Add ",(0,s.jsx)(n.code,{children:"import cl.json.RNSharePackage;"})," and ",(0,s.jsx)(n.code,{children:"import cl.json.ShareApplication;"})," to the imports at the top of the file"]}),"\n",(0,s.jsxs)(n.li,{children:["Add ",(0,s.jsx)(n.code,{children:"new RNSharePackage()"})," to the list returned by the ",(0,s.jsx)(n.code,{children:"getPackages()"})," method"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Append the following lines to ",(0,s.jsx)(n.code,{children:"android/settings.gradle"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"include ':react-native-share'\nproject(':react-native-share').projectDir = new File(rootProject.projectDir, \t'../node_modules/react-native-share/android')\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Insert the following lines inside the dependencies block in\n",(0,s.jsx)(n.code,{children:"android/app/build.gradle"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"  implementation project(':react-native-share')\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"(Optional)"})," ",(0,s.jsx)(n.a,{href:"#adding-your-implementation-of-fileprovider",children:"Follow this for implementing Provider"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"windows-install",children:"Windows Install"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.a,{href:"https://github.com/ReactWindows/react-native",children:["Read it! ",":D"]})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"yarn add react-native-share"})}),"\n",(0,s.jsxs)(n.li,{children:["In Visual Studio add the ",(0,s.jsx)(n.code,{children:"RNShare.sln"})," in ",(0,s.jsx)(n.code,{children:"node_modules/react-native-share/windows/RNShare.sln"})," folder to their solution, reference from their app."]}),"\n",(0,s.jsxs)(n.li,{children:["Open up your ",(0,s.jsx)(n.code,{children:"MainPage.cs"})," app"]}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Add ",(0,s.jsx)(n.code,{children:"using Cl.Json.RNShare;"})," to the usings at the top of the file"]}),"\n",(0,s.jsxs)(n.li,{children:["Add ",(0,s.jsx)(n.code,{children:"new RNSharePackage()"})," to the ",(0,s.jsx)(n.code,{children:"List<IReactPackage>"})," returned by the ",(0,s.jsx)(n.code,{children:"Packages"})," method"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"adding-your-implementation-of-fileprovider",children:"Adding your implementation of FileProvider"}),"\n",(0,s.jsxs)(n.p,{children:["Follow this to implement your ",(0,s.jsx)(n.code,{children:"FileProvider"}),". If you have any doubt please you found more about that ",(0,s.jsx)(n.a,{href:"https://developer.android.com/training/secure-file-sharing/setup-sharing.html",children:"here"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"applicationId"})," should be defined in the ",(0,s.jsx)(n.code,{children:"defaultConfig"})," section in your ",(0,s.jsx)(n.code,{children:"android/app/build.gradle"}),":"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["File: ",(0,s.jsx)(n.code,{children:"android/app/build.gradle"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'defaultConfig {\n    applicationId "com.yourcompany.yourappname"\n    ...\n}\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Add this ",(0,s.jsx)(n.code,{children:"<provider>"})," section to your ",(0,s.jsx)(n.code,{children:"AndroidManifest.xml"})]}),"\n",(0,s.jsxs)(n.p,{children:["File: ",(0,s.jsx)(n.code,{children:"AndroidManifest.xml"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<application>\n    <provider\n        android:name="androidx.core.content.FileProvider"\n        android:authorities="${applicationId}.provider"\n        android:grantUriPermissions="true"\n        android:exported="false">\n        <meta-data\n            android:name="android.support.FILE_PROVIDER_PATHS"\n            android:resource="@xml/filepaths" />\n    </provider>\n</application>\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Create a ",(0,s.jsx)(n.code,{children:"filepaths.xml"})," under this directory: ",(0,s.jsx)(n.code,{children:"android/app/src/main/res/xml"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"In this file, add the following contents:"}),"\n",(0,s.jsxs)(n.p,{children:["File: ",(0,s.jsx)(n.code,{children:"android/app/src/main/res/xml/filepaths.xml"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" encoding="utf-8"?>\n<paths xmlns:android="http://schemas.android.com/apk/res/android">\n  <external-cache-path name="myexternalimages" path="Download/" />\n</paths>\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Edit your ",(0,s.jsx)(n.code,{children:"MainApplication.java"})," class to add ",(0,s.jsx)(n.code,{children:"implements ShareApplication"})," and ",(0,s.jsx)(n.code,{children:"getFileProviderAuthority"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"getFileProviderAuthority"})," function returns the ",(0,s.jsx)(n.code,{children:"android:authorities"})," value added in the ",(0,s.jsx)(n.code,{children:"AndroidManifest.xml"})," file"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"applicationId"})," is defined in the ",(0,s.jsx)(n.code,{children:"defaultConfig"})," section of your ",(0,s.jsx)(n.code,{children:"android/app/build.gradle"})," and referenced using ",(0,s.jsx)(n.code,{children:"BuildConfig.APPLICATION_ID"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'import cl.json.ShareApplication\npublic class MainApplication extends Application implements ShareApplication, ReactApplication {\n\n     @Override\n     public String getFileProviderAuthority() {\n            return BuildConfig.APPLICATION_ID + ".provider";\n     }\n\n     // ...Your own code\n\n}\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"older-versions",children:"Older versions"}),"\n",(0,s.jsxs)(n.p,{children:["If you need to use a older version of ",(0,s.jsx)(n.code,{children:"react-native < 0.60"}),", then you will need to run a:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"yarn add react-native-share@version\n"})}),"\n",(0,s.jsx)(n.p,{children:"Or with npm:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"npm i react-native-share@version --save\n"})}),"\n",(0,s.jsxs)(n.p,{children:["You can look at all versions, that we published ",(0,s.jsx)(n.a,{href:"https://github.com/react-native-community/react-native-share/releases",children:"here"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"react-native-05910",children:"react-native 0.59.10"}),"\n",(0,s.jsxs)(n.p,{children:["If you can't update your project to the most recent version of both react-native and react-native-share, please use ",(0,s.jsx)(n.code,{children:"1.2.1"}),". Alternatively you can use ",(0,s.jsx)(n.a,{href:"https://github.com/mikehardy/jetifier#to-reverse-jetify--convert-node_modules-dependencies-to-support-libraries",children:"jetifier"})," running a ",(0,s.jsx)(n.code,{children:"npx jetify -r"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>l});var r=i(6540);const s={},a=r.createContext(s);function d(e){const n=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);